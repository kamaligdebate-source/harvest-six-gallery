<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Scholars Gallery | Harvest Six</title>
Â  Â  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ¾</text></svg>">
Â  Â Â 
Â  Â  <link rel="preconnect" href="https://fonts.googleapis.com">
Â  Â  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --harvest-green: #6d8c54;Â 
Â  Â  Â  Â  Â  Â  --dark-olive: #4a5d3a;
Â  Â  Â  Â  Â  Â  --cream-bg: #e5e4c5;Â 
Â  Â  Â  Â  Â  Â  --text-main: #5a6650;
Â  Â  Â  Â  Â  Â  --blob-color: rgba(109, 140, 84, 0.12);
Â  Â  Â  Â  }

Â  Â  Â  Â  body {Â 
Â  Â  Â  Â  Â  Â  font-family: 'Quicksand', sans-serif;Â 
Â  Â  Â  Â  Â  Â  background-color: var(--cream-bg);Â 
Â  Â  Â  Â  Â  Â  margin: 0; padding: 0;Â 
Â  Â  Â  Â  Â  Â  color: var(--text-main);Â 
Â  Â  Â  Â  Â  Â  background-image: url("https://www.transparenttextures.com/patterns/paper-fibers.png");
Â  Â  Â  Â  Â  Â  overflow-x: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- HEADER AREA --- */
Â  Â  Â  Â  header {Â 
Â  Â  Â  Â  Â  Â  padding: 80px 20px 40px;
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; align-items: center; justify-content: center;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Decorative Background Blobs */
Â  Â  Â  Â  header::before {
Â  Â  Â  Â  Â  Â  content: ""; position: absolute; z-index: -1;
Â  Â  Â  Â  Â  Â  background: var(--blob-color); border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
Â  Â  Â  Â  Â  Â  width: 350px; height: 350px; top: -80px; left: -120px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .header-subtitle {
Â  Â  Â  Â  Â  Â  font-family: 'Fredoka', sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  color: var(--dark-olive);
Â  Â  Â  Â  Â  Â  opacity: 0.8;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .header-title {
Â  Â  Â  Â  Â  Â  font-family: 'Fredoka', sans-serif;
Â  Â  Â  Â  Â  Â  font-size: clamp(2.5rem, 8vw, 3.8rem);
Â  Â  Â  Â  Â  Â  color: var(--harvest-green);
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- SMOOTH CAROUSEL --- */
Â  Â  Â  Â  #topHarvesterCycle {Â 
Â  Â  Â  Â  Â  Â  margin-top: 25px;Â 
Â  Â  Â  Â  Â  Â  min-height: 24px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #leaderName {Â 
Â  Â  Â  Â  Â  Â  font-weight: 700; font-size: 13px; color: var(--harvest-green);
Â  Â  Â  Â  Â  Â  text-transform: uppercase; letter-spacing: 1.5px;
Â  Â  Â  Â  Â  Â  transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  .fade-out { opacity: 0 !important; }

Â  Â  Â  Â  /* --- POPULATION COUNTER --- */
Â  Â  Â  Â  .population-box { margin-top: 25px; }
Â  Â  Â  Â  .goal-bar-bg { width: 260px; height: 8px; background: rgba(0,0,0,0.06); border-radius: 20px; margin: 10px auto; overflow: hidden; }
Â  Â  Â  Â  #goalProgress { background: var(--harvest-green); width: 0%; height: 100%; border-radius: 20px; transition: 2s ease; }
Â  Â  Â  Â  .counter-text { font-size: 11px; font-weight: 700; color: var(--dark-olive); text-transform: uppercase; letter-spacing: 1px; }

Â  Â  Â  Â  /* --- STICKY NAV & SEARCH --- */
Â  Â  Â  Â  .sticky-controls {Â 
Â  Â  Â  Â  Â  Â  position: sticky; top: 0; z-index: 200;Â 
Â  Â  Â  Â  Â  Â  background: rgba(229, 228, 197, 0.92); backdrop-filter: blur(12px);
Â  Â  Â  Â  Â  Â  padding: 15px 0; border-bottom: 2px solid rgba(109, 140, 84, 0.15); text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .nav-btn {Â 
Â  Â  Â  Â  Â  Â  font-family: 'Fredoka', sans-serif; font-size: 10px; text-transform: uppercase;Â 
Â  Â  Â  Â  Â  Â  padding: 8px 18px; border: 2px solid var(--harvest-green); border-radius: 50px;Â 
Â  Â  Â  Â  Â  Â  cursor: pointer; color: var(--harvest-green); text-decoration: none; font-weight: 600; margin: 0 4px;
Â  Â  Â  Â  Â  Â  transition: 0.3s; display: inline-block;
Â  Â  Â  Â  }
Â  Â  Â  Â  .nav-btn:hover { background: var(--harvest-green); color: white; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #scholarSearch {Â 
Â  Â  Â  Â  Â  Â  margin-top: 15px; width: 250px; padding: 12px 25px;Â 
Â  Â  Â  Â  Â  Â  border: 2px solid rgba(109, 140, 84, 0.2); border-radius: 50px;Â 
Â  Â  Â  Â  Â  Â  font-family: 'Quicksand', sans-serif; outline: none; background: #fcfcf7;
Â  Â  Â  Â  Â  Â  transition: 0.3s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  #scholarSearch:focus { border-color: var(--harvest-green); width: 300px; box-shadow: 0 5px 15px rgba(109,140,84,0.1); }

Â  Â  Â  Â  /* --- GARDEN --- */
Â  Â  Â  Â  #grainGardenContainer {
Â  Â  Â  Â  Â  Â  position: fixed; bottom: 25px; left: 25px; z-index: 1000;
Â  Â  Â  Â  Â  Â  background: white; border-radius: 25px; padding: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 15px 35px rgba(90, 102, 80, 0.15); width: 130px; text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #gardenBed { height: 75px; position: relative; overflow: hidden; border-radius: 15px; background: #f9f9f0; margin-bottom: 8px; border: 1px solid #eeeae0; }
Â  Â  Â  Â  .garden-item { position: absolute; bottom: -2px; transform-origin: bottom; animation: sway 3s ease-in-out infinite alternate; }
Â  Â  Â  Â  @keyframes sway { from { transform: rotate(-8deg); } to { transform: rotate(8deg); } }

Â  Â  Â  Â  /* --- GRID SYSTEM (UPDATED FOR ALIGNMENT) --- */
Â  Â  Â  Â  .cohort-section { padding: 40px 8% 20px; }
Â  Â  Â  Â  .cohort-title { font-family: 'Fredoka', sans-serif; font-size: 22px; color: var(--harvest-green); text-align: center; margin-bottom: 40px; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Switched to CSS Grid for alignment */
Â  Â  Â  Â  .grid { 
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            align-items: stretch; /* Ensures equal height cards in a row */
        }
Â  Â  Â  Â  @media (max-width: 1200px) { .grid { grid-template-columns: repeat(3, 1fr); } }
Â  Â  Â  Â  @media (max-width: 900px) { .grid { grid-template-columns: repeat(2, 1fr); } }
Â  Â  Â  Â  @media (max-width: 550px) { .grid { grid-template-columns: 1fr; } }

Â  Â  Â  Â  /* --- CARDS (UPDATED) --- */
Â  Â  Â  Â  .scholar-card {Â 
            /* Removed masonry-specific styles */
            display: flex; 
            flex-direction: column;
            height: 100%; /* Fills the grid cell height */

Â  Â  Â  Â  Â  Â  background: white; padding: 50px 20px 30px; border-radius: 30px;
Â  Â  Â  Â  Â  Â  text-align: center; position: relative; opacity: 0; transform: translateY(20px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(90, 102, 80, 0.05); transition: 0.6s cubic-bezier(0.2, 1, 0.3, 1);
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }
Â  Â  Â  Â  .scholar-card.sprouted { opacity: 1; transform: translateY(0); }
Â  Â  Â  Â  .scholar-card:hover { transform: translateY(-5px); box-shadow: 0 12px 30px rgba(90, 102, 80, 0.1); }

Â  Â  Â  Â  /* Washi Tape Accent */
Â  Â  Â  Â  .scholar-card::before {
Â  Â  Â  Â  Â  Â  content: ""; position: absolute; top: -12px; left: 50%; transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  width: 75px; height: 25px; background: rgba(109, 140, 84, 0.18); border-radius: 4px; z-index: 5;
Â  Â  Â  Â  }

Â  Â  Â  Â  .break-badge {Â 
Â  Â  Â  Â  Â  Â  position: absolute; top: 18px; left: 22px; font-size: 10px; font-weight: 700;Â 
Â  Â  Â  Â  Â  Â  color: var(--harvest-green); background: #f4f7f0; padding: 4px 12px; border-radius: 20px;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .name { font-family: 'Fredoka', sans-serif; font-weight: 600; color: var(--dark-olive); font-size: 1.2rem; margin-top: 15px; display: block; }
Â  Â  Â  Â  .inst { font-size: 10px; color: #99a38f; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px; }
        
        /* Updated to push to bottom of the card */
Â  Â  Â  Â  .accolade-box { 
            font-size: 11px; color: #777; line-height: 1.6; 
            margin-top: auto; /* Pushes this box to the bottom of the flex container */
            padding-top: 15px; 
            border-top: 1px solid #f8f8f8; font-style: italic; 
        }

Â  Â  Â  Â  footer { text-align: center; padding: 80px 20px; }
Â  Â  </style>
</head>
<body>

<header>
Â  Â  <div class="header-subtitle">Kamalig Debate Mentorship Program</div>
Â  Â  <h1 class="header-title">Harvest Six</h1>
Â  Â  <div id="topHarvesterCycle"><span id="leaderName">Loading Harvest...</span></div>
Â  Â  <div class="population-box">
Â  Â  Â  Â  <div class="counter-text">Mentorship Population: <span id="countDisplay">0</span> / 100</div>
Â  Â  Â  Â  <div class="goal-bar-bg"><div id="goalProgress"></div></div>
Â  Â  </div>
</header>

<div class="sticky-controls">
Â  Â  <div id="batchNav"></div>
Â  Â  <input type="text" id="scholarSearch" placeholder="Search for a scholar or school..." onkeyup="searchScholars()">
</div>

<div id="grainGardenContainer">
Â  Â  <div id="gardenBed"><div style="position:absolute; top:5px; right:8px; font-size:20px;">â˜€ï¸</div></div>
Â  Â  <div style="font-size: 18px; font-weight: 700; color: var(--harvest-green); font-family: 'Fredoka';" id="totalBreaks">0</div>
Â  Â  <div style="font-size: 8px; text-transform: uppercase; color: #999; letter-spacing: 1px; font-weight: 700;">Total Breaks</div>
</div>

<div id="gallery"></div>

<footer>
Â  Â  <a href="https://forms.gle/EQ8bFb1KJLaew9vX7" target="_blank" style="color: var(--harvest-green); font-family: 'Fredoka'; font-size: 12px; font-weight: 700; text-decoration: none; text-transform: uppercase; letter-spacing: 2px;">Update Scholar Profile</a>
</footer>

<script>
Â  Â  const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTHPJe3Zt0F1OO2gt1igtfKLmt4QdMedmq7qI3wn769I-lpWA0aMZ9I07v1DwJgdCuDz2i3t2wPyfmt/pub?output=csv';
Â  Â  let allData = [];
Â  Â  let leaders = [];
Â  Â  let lIdx = 0;

Â  Â  async function loadGallery() {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const res = await fetch(sheetUrl);
Â  Â  Â  Â  Â  Â  const csv = await res.text();
Â  Â  Â  Â  Â  Â  const lines = csv.split('\n').filter(l => l.trim() !== "").slice(1);
Â  Â  Â  Â  Â  Â  allData = lines.map(line => {
Â  Â  Â  Â  Â  Â  Â  Â  const c = line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
Â  Â  Â  Â  Â  Â  Â  Â  const clean = (val) => val ? val.replace(/^"|"$/g, '').trim() : "";
Â  Â  Â  Â  Â  Â  Â  Â  if (!c[0]) return null;
Â  Â  Â  Â  Â  Â  Â  Â  return {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: clean(c[0]), batchNum: clean(c[1]), accolade: clean(c[2]),Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  batchName: clean(c[3]), institution: clean(c[5]), breaks: parseInt(clean(c[6])) || 0Â 
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  }).filter(i => i !== null);
Â  Â  Â  Â  Â  Â  render();
Â  Â  Â  Â  } catch (e) { console.error("Data Load Error:", e); }
Â  Â  }

Â  Â  function render() {
Â  Â  Â  Â  const gal = document.getElementById('gallery');
Â  Â  Â  Â  const nav = document.getElementById('batchNav');
Â  Â  Â  Â  const bed = document.getElementById('gardenBed');
Â  Â  Â  Â  gal.innerHTML = ""; nav.innerHTML = "";Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Counters
Â  Â  Â  Â  document.getElementById('countDisplay').innerText = allData.length;
Â  Â  Â  Â  document.getElementById('goalProgress').style.width = Math.min(allData.length, 100) + "%";
Â  Â  Â  Â  const totalBreaks = allData.reduce((s, i) => s + i.breaks, 0);
Â  Â  Â  Â  document.getElementById('totalBreaks').innerText = totalBreaks;

Â  Â  Â  Â  // Garden Visuals
Â  Â  Â  Â  for(let i=0; i < Math.min(totalBreaks, 15); i++) {
Â  Â  Â  Â  Â  Â  const g = document.createElement('span');
Â  Â  Â  Â  Â  Â  g.className = 'garden-item'; g.innerHTML = 'ğŸŒ¾';
Â  Â  Â  Â  Â  Â  g.style.left = Math.random() * 85 + "%";
Â  Â  Â  Â  Â  Â  g.style.fontSize = (15 + Math.random() * 10) + "px";
Â  Â  Â  Â  Â  Â  bed.appendChild(g);
Â  Â  Â  Â  }

Â  Â  Â  Â  // Batch Grouping
Â  Â  Â  Â  const batches = [...new Set(allData.map(i => i.batchNum))].sort((a,b) => a-b);
Â  Â  Â  Â  batches.forEach(bNum => {
Â  Â  Â  Â  Â  Â  const bItems = allData.filter(i => i.batchNum === bNum);
Â  Â  Â  Â  Â  Â  const bName = bItems[0].batchName || `Batch ${bNum}`;
Â  Â  Â  Â  Â  Â  const bID = `batch-${bNum}`;

Â  Â  Â  Â  Â  Â  nav.innerHTML += `<a href="#${bID}" class="nav-btn">${bName}</a>`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const section = document.createElement('div');
Â  Â  Â  Â  Â  Â  section.className = 'cohort-section';
Â  Â  Â  Â  Â  Â  section.id = bID;
Â  Â  Â  Â  Â  Â  section.innerHTML = `<div class="cohort-title">ğŸŒ¾ ${bName} ğŸŒ¾</div><div class="grid"></div>`;
Â  Â  Â  Â  Â  Â  const grid = section.querySelector('.grid');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  bItems.forEach((item, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  grid.innerHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="scholar-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${item.breaks > 0 ? `<div class="break-badge">${item.breaks} Breaks</div>` : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size:32px;">${item.breaks > 0 ? 'ğŸŒ¾' : 'ğŸŒ±'}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="name">${item.name}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="inst">${item.institution}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="accolade-box">${item.accolade}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  gal.appendChild(section);
Â  Â  Â  Â  });

Â  Â  Â  Â  // Animation triggers
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  const obs = new IntersectionObserver((es) => es.forEach(e => { if(e.isIntersecting) e.target.classList.add('sprouted') }), {threshold:0.1});
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.scholar-card').forEach(c => obs.observe(c));
Â  Â  Â  Â  }, 100);

Â  Â  Â  Â  // Leader Carousel Initialization
Â  Â  Â  Â  const maxB = Math.max(...allData.map(x => x.breaks));
Â  Â  Â  Â  leaders = allData.filter(s => s.breaks === maxB && maxB > 0);
Â  Â  Â  Â  if(leaders.length) startLeaderCycle();
Â  Â  Â  Â  else document.getElementById('leaderName').innerText = "Cultivating Growth";
Â  Â  }

Â  Â  /* SMOOTH CAROUSEL LOGIC */
Â  Â  function startLeaderCycle() {
Â  Â  Â  Â  const el = document.getElementById('leaderName');
Â  Â  Â  Â  const cycle = () => {
Â  Â  Â  Â  Â  Â  el.classList.add('fade-out'); // Cross-fade out
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  lIdx = (lIdx + 1) % leaders.length;
Â  Â  Â  Â  Â  Â  Â  Â  el.innerText = `Top Harvest Scholar: ${leaders[lIdx].name} (${leaders[lIdx].breaks} Breaks)`;
Â  Â  Â  Â  Â  Â  Â  Â  el.classList.remove('fade-out'); // Cross-fade in
Â  Â  Â  Â  Â  Â  }, 1200);Â 
Â  Â  Â  Â  };
Â  Â  Â  Â  setInterval(cycle, 5500);
Â  Â  Â  Â  // Set initial state
Â  Â  Â  Â  el.innerText = `Top Harvester: ${leaders[0].name} (${leaders[0].breaks} Breaks)`;
Â  Â  }

Â  Â  function searchScholars() {
Â  Â  Â  Â  const t = document.getElementById('scholarSearch').value.toLowerCase();
Â  Â  Â  Â  document.querySelectorAll('.scholar-card').forEach(c => {
            // Updated search display style for grid compatibility
Â  Â  Â  Â  Â  Â  c.style.display = c.innerText.toLowerCase().includes(t) ? 'flex' : 'none';
Â  Â  Â  Â  });
Â  Â  }

Â  Â  loadGallery();
</script>
</body>
</html>
